%=============================================================================
% Copyright (c) 2016-present Allan CORNET (Nelson)
%=============================================================================
% This file is part of Nelson.
%=============================================================================
% LICENCE_BLOCK_BEGIN
% SPDX-License-Identifier: LGPL-3.0-or-later
% LICENCE_BLOCK_END
%=============================================================================
% <--ADV-CLI MODE-->
%=============================================================================
R = im2double(single([3 25]), 'indexed');
REF = [3 25];
assert_isequal(R, REF);
%=============================================================================
R = im2double([3 25], 'indexed');
REF = [3 25];
assert_isequal(R, REF);
%=============================================================================
R = im2double(uint16 ([0 1 257]), 'indexed');
REF = [1     2   258];
assert_isequal(R, REF);
%=============================================================================
R = im2double(uint8([0 1 255]), 'indexed');
REF = [1     2   256];
assert_isequal(R, REF);
%=============================================================================
R = im2double([10 20 30]);
REF = [10 20 30];
assert_isequal(R, REF);
%=============================================================================
R = im2double(single([10 20 30]));
REF = [10 20 30];
assert_isequal(R, REF);
%=============================================================================
R = im2double(uint8([0 127 128 255]));
REF = [ 0    0.4980    0.5020    1.0000];
assert_isapprox(R, REF, 1e-4);
%=============================================================================
R = im2double(uint16([0 127 128 65535]));
REF = [ 0    0.0019    0.0020    1.0000];
assert_isapprox(R, REF, 1e-4);
%=============================================================================
R = im2double(int16([-32768 -32767 -32766 32767]));
REF = [ 0    0.0000    0.0000    1.0000];
assert_isapprox(R, REF, 1e-4);
%=============================================================================
